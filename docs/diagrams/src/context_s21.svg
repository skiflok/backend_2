<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1585.8px" preserveAspectRatio="none" style="width:2190px;height:1585px;background:#FFFFFF;" version="1.1" viewBox="0 0 2190 1585" width="2190.6px" zoomAndPan="magnify"><defs/><g><!--cluster actors--><g class="cluster" data-entity="actors" data-source-line="1593" data-uid="ent0002" id="cluster_actors"><rect fill="none" height="712.8" rx="9" ry="9" style="stroke:#444444;stroke-width:1.8;stroke-dasharray:12.6,12.6;" width="381.6" x="12.6" y="31.8384"/><text fill="#444444" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="89.9138" x="158.4431" y="66.2257">actors</text></g><!--cluster s21--><g class="cluster" data-entity="s21" data-source-line="1593" data-uid="ent0007" id="cluster_s21"><rect fill="none" height="1014.3" rx="9" ry="9" style="stroke:#444444;stroke-width:1.8;stroke-dasharray:12.6,12.6;" width="561.6" x="919.8" y="12.9384"/><text fill="#444444" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="179.8852" x="1110.6574" y="47.3257">S21 Backend</text><text fill="#444444" font-family="sans-serif" font-size="21.6" font-weight="bold" lengthAdjust="spacing" textLength="91.4119" x="1154.8941" y="78.8547">[system]</text></g><!--cluster infra--><g class="cluster" data-entity="infra" data-source-line="1593" data-uid="ent0011" id="cluster_infra"><rect fill="none" height="896.4" rx="9" ry="9" style="stroke:#444444;stroke-width:1.8;stroke-dasharray:12.6,12.6;" width="626.4" x="1553.4" y="391.8384"/><text fill="#444444" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="206.8708" x="1763.1646" y="426.2257">Infrastructure</text><text fill="#444444" font-family="sans-serif" font-size="21.6" font-weight="bold" lengthAdjust="spacing" textLength="198.1166" x="1767.5417" y="457.7547">[External systems]</text></g><!--entity customer--><g class="entity" data-entity="customer" data-source-line="379" data-uid="ent0003" id="entity_customer"><rect fill="#08427B" height="230.2702" rx="9" ry="9" style="stroke:#073B6F;stroke-width:0.9;" width="292.535" x="56.7" y="471.0384"/><image height="86.4" width="86.4" x="159.7675" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACMElEQVR4Xu2YvUrFQBCFb+kj+Ai+gq3Y2PgA+gCCtZ2V2AhqaSNiqY1gYWMjaCvXykoEKy21sLCNfELgMscksz8mWfDAB3Kuye7sTmYnmcwtbU9KRozSECOVla3T6uTqvrqZPlcPT68/XNw+VtvH19XC+sGe/f9UxIhl8/Cy+vj8qrpEYIsbR1N7fSxihDK/urvMKoeKHbH3ikGMEJi8Z9WbtH92lxyEGCHErLwVqWfvG4IYXkiBXGIn7f29iOGBAe0kUkTVsmN4EcMD255bdgwvYnigFOYW54cdx4MYHlIqT5Niy6oYHuzgORRbUsXwYAfPoV4DeHl7t+MnK/Y8EMMDzVlu9foQ5y6jFAU7hhcxvOSsRLH5D2J4KbqVqMlxoK3tnEevPogRAiuXUpFiD69ZxIghZidSV75GjFiYkGc3KMEpOW8RIxXed0kNJsrOAO0ypTfnxGvEKA0xSkMMD3zfIedJFQ4hCPlUwrX1daQWbURseonRBhNue1D5rc53JkVQwN9c21Wt+D20JxLjN7hpztahSwTi3RExLDlbhhCxm55PkWLMkrvrDBW73rUTYtSQu/aGQ4h0snNzBdD1wPWptrZDDBjL6tfiebBzbA2AUjg2NT3QYkBbrR9KTS/9YoC9eAxqeu0UI/eH21yiu7VzLSqApnIqxn8Af6TiA3A/A9Bn5+lV0xcMMWDoJs6qrakTo4a6OwZxqLa97YkxC1HzMkMzNQRtE3cFUAJilMY3OGTNL0NDLqIAAAAASUVORK5CYII=" y="489.0384"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="140.2851" x="132.8249" y="606.2257">Customer</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="199.6915" y="641.6028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="145.4538" x="74.7" y="675.925">&#1055;&#1086;&#1082;&#1091;&#1087;&#1072;&#1090;&#1077;&#1083;&#1100;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="220.1538" y="675.925">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="9.3744" x="226.7058" y="675.925">/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="236.0802" y="675.925">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="88.6028" x="242.6321" y="675.925">&#1050;&#1083;&#1080;&#1077;&#1085;&#1090;</text></g><!--entity admin--><g class="entity" data-entity="admin" data-source-line="379" data-uid="ent0004" id="entity_admin"><rect fill="#08427B" height="230.2702" rx="9" ry="9" style="stroke:#073B6F;stroke-width:0.9;" width="230.4677" x="104.4" y="118.2384"/><image height="86.4" width="86.4" x="176.4338" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACMElEQVR4Xu2YvUrFQBCFb+kj+Ai+gq3Y2PgA+gCCtZ2V2AhqaSNiqY1gYWMjaCvXykoEKy21sLCNfELgMscksz8mWfDAB3Kuye7sTmYnmcwtbU9KRozSECOVla3T6uTqvrqZPlcPT68/XNw+VtvH19XC+sGe/f9UxIhl8/Cy+vj8qrpEYIsbR1N7fSxihDK/urvMKoeKHbH3ikGMEJi8Z9WbtH92lxyEGCHErLwVqWfvG4IYXkiBXGIn7f29iOGBAe0kUkTVsmN4EcMD255bdgwvYnigFOYW54cdx4MYHlIqT5Niy6oYHuzgORRbUsXwYAfPoV4DeHl7t+MnK/Y8EMMDzVlu9foQ5y6jFAU7hhcxvOSsRLH5D2J4KbqVqMlxoK3tnEevPogRAiuXUpFiD69ZxIghZidSV75GjFiYkGc3KMEpOW8RIxXed0kNJsrOAO0ypTfnxGvEKA0xSkMMD3zfIedJFQ4hCPlUwrX1daQWbURseonRBhNue1D5rc53JkVQwN9c21Wt+D20JxLjN7hpztahSwTi3RExLDlbhhCxm55PkWLMkrvrDBW73rUTYtSQu/aGQ4h0snNzBdD1wPWptrZDDBjL6tfiebBzbA2AUjg2NT3QYkBbrR9KTS/9YoC9eAxqeu0UI/eH21yiu7VzLSqApnIqxn8Af6TiA3A/A9Bn5+lV0xcMMWDoJs6qrakTo4a6OwZxqLa97YkxC1HzMkMzNQRtE3cFUAJilMY3OGTNL0NDLqIAAAAASUVORK5CYII=" y="136.2384"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="94.0898" x="172.5889" y="253.4257">Admin</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="216.3579" y="288.8028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="194.4677" x="122.4" y="323.125">&#1040;&#1076;&#1084;&#1080;&#1085;&#1080;&#1089;&#1090;&#1088;&#1072;&#1090;&#1086;&#1088;</text></g><!--entity shop--><g class="entity" data-entity="shop" data-source-line="398" data-uid="ent0008" id="entity_shop"><rect fill="#1168BD" height="178.1924" rx="9" ry="9" style="stroke:#3C7FC0;stroke-width:0.9;" width="344.6232" x="978.3" y="497.1384"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="179.9715" x="1060.6258" y="545.9257">shop-service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1147.3356" y="581.3028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="57.5314" x="1095.2474" y="615.625">REST</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1152.7788" y="615.625">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="46.645" x="1159.3308" y="615.625">API:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="308.6232" x="996.3" y="649.9473">products/suppliers/clients</text></g><!--entity event--><g class="entity" data-entity="event" data-source-line="398" data-uid="ent0009" id="entity_event"><rect fill="#1168BD" height="178.1924" rx="9" ry="9" style="stroke:#3C7FC0;stroke-width:0.9;" width="307.7054" x="978.3" y="144.3384"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="192.5284" x="1035.8885" y="193.1257">event-service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1128.8767" y="228.5028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="122.2699" x="996.3" y="262.825">Generates</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1118.5699" y="262.825">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="18.4463" x="1125.1219" y="262.825">&amp;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1143.5682" y="262.825">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="117.8852" x="1150.1202" y="262.825">processes</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="93.4161" x="997.9002" y="297.1473">product</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1091.3162" y="297.1473">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="84.0165" x="1097.8682" y="297.1473">update</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1181.8847" y="297.1473">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="77.9685" x="1188.4367" y="297.1473">events</text></g><!--entity auth--><g class="entity" data-entity="auth" data-source-line="398" data-uid="ent0010" id="entity_auth"><rect fill="#1168BD" height="178.1924" rx="9" ry="9" style="stroke:#3C7FC0;stroke-width:0.9;" width="315.1013" x="992.7" y="791.4384"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="178.4163" x="1010.7" y="840.2257">auth-service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="7.488" x="1189.1163" y="840.2257">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="93.197" x="1196.6044" y="840.2257">(gRPC)</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1146.9747" y="875.6028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="174.3833" x="1013.4908" y="909.925">Authentication</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1187.8741" y="909.925">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="18.4463" x="1194.4261" y="909.925">&amp;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1212.8724" y="909.925">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="67.5861" x="1219.4244" y="909.925">token</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="115.9952" x="1092.2531" y="944.2473">validation</text></g><!--entity kafka--><g class="entity" data-entity="kafka" data-source-line="408" data-uid="ent0012" id="entity_kafka"><path d="M1757.7,523.2384 L2111.9927,523.2384 C2120.9927,523.2384 2120.9927,586.1735 2120.9927,586.1735 C2120.9927,586.1735 2120.9927,649.1086 2111.9927,649.1086 L1757.7,649.1086 C1748.7,649.1086 1748.7,586.1735 1748.7,586.1735 C1748.7,586.1735 1748.7,523.2384 1757.7,523.2384" fill="#1168BD" style="stroke:#3C7FC0;stroke-width:0.9;"/><path d="M2111.9927,523.2384 C2102.9927,523.2384 2102.9927,586.1735 2102.9927,586.1735 C2102.9927,649.1086 2111.9927,649.1086 2111.9927,649.1086" fill="none" style="stroke:#3C7FC0;stroke-width:0.9;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="82.9154" x="1884.3887" y="563.0257">Kafka</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1922.5704" y="598.4028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="65.6961" x="1757.7" y="632.725">Event</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1823.3961" y="632.725">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="43.1422" x="1829.9481" y="632.725">bus</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1873.0903" y="632.725">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="84.8229" x="1879.6423" y="632.725">(topics:</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1964.4652" y="632.725">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="122.9755" x="1971.0172" y="632.725">product-*)</text></g><!--entity postgres--><g class="entity" data-entity="postgres" data-source-line="403" data-uid="ent0013" id="entity_postgres"><path d="M1756.8,818.4384 C1756.8,800.4384 1934.643,800.4384 1934.643,800.4384 C1934.643,800.4384 2112.4859,800.4384 2112.4859,818.4384 L2112.4859,942.5086 C2112.4859,960.5086 1934.643,960.5086 1934.643,960.5086 C1934.643,960.5086 1756.8,960.5086 1756.8,942.5086 L1756.8,818.4384" fill="#1168BD" style="stroke:#3C7FC0;stroke-width:0.9;"/><path d="M1756.8,818.4384 C1756.8,836.4384 1934.643,836.4384 1934.643,836.4384 C1934.643,836.4384 2112.4859,836.4384 2112.4859,818.4384" fill="none" style="stroke:#3C7FC0;stroke-width:0.9;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="125.3666" x="1871.9596" y="874.4257">Postgres</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1931.367" y="909.8028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="117.5827" x="1774.8" y="944.125">Relational</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1892.3827" y="944.125">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="34.7758" x="1898.9347" y="944.125">DB</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1933.7106" y="944.125">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="99.212" x="1940.2625" y="944.125">(schema</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="2039.4745" y="944.125">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="48.4594" x="2046.0265" y="944.125">s21)</text></g><!--entity redis--><g class="entity" data-entity="redis" data-source-line="403" data-uid="ent0014" id="entity_redis"><path d="M1819.8,1088.4384 C1819.8,1070.4384 1934.9204,1070.4384 1934.9204,1070.4384 C1934.9204,1070.4384 2050.0408,1070.4384 2050.0408,1088.4384 L2050.0408,1212.5086 C2050.0408,1230.5086 1934.9204,1230.5086 1934.9204,1230.5086 C1934.9204,1230.5086 1819.8,1230.5086 1819.8,1212.5086 L1819.8,1088.4384" fill="#1168BD" style="stroke:#3C7FC0;stroke-width:0.9;"/><path d="M1819.8,1088.4384 C1819.8,1106.4384 1934.9204,1106.4384 1934.9204,1106.4384 C1934.9204,1106.4384 2050.0408,1106.4384 2050.0408,1088.4384" fill="none" style="stroke:#3C7FC0;stroke-width:0.9;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="77.357" x="1896.2419" y="1144.4257">Redis</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1931.6444" y="1179.8028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="71.9457" x="1837.8" y="1214.125">Cache</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1909.7457" y="1214.125">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="9.3744" x="1916.2977" y="1214.125">/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1925.672" y="1214.125">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="99.8168" x="1932.224" y="1214.125">sessions</text></g><!--entity nginx--><g class="entity" data-entity="nginx" data-source-line="413" data-uid="ent0006" id="entity_nginx"><rect fill="#999999" height="178.1924" rx="9" ry="9" style="stroke:#8A8A8A;stroke-width:0.9;" width="267.0075" x="531" y="497.1384"/><text fill="#FFFFFF" font-family="sans-serif" font-size="28.8" font-weight="bold" lengthAdjust="spacing" textLength="98.093" x="615.4572" y="545.9257">NGINX</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="661.2278" y="581.3028">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="93.5924" x="549" y="615.625">Reverse</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="642.5924" y="615.625">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="67.3342" x="649.1444" y="615.625">proxy</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="716.4786" y="615.625">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="9.3744" x="723.0305" y="615.625">/</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="732.4049" y="615.625">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="41.0506" x="738.9569" y="615.625">TLS</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="139.9099" x="594.5488" y="649.9473">termination</text></g><!--link admin to customer--><!--link kafka to postgres--><!--link postgres to redis--><!--link s21 to infra--><!--link s21 to infra--><g class="link" data-entity-1="s21" data-entity-2="infra" data-source-line="1706" data-uid="lnk23" id="link_s21_infra"><path d="M1481.4424,233.4384 C1483.5863,233.4384 1485.9113,233.4384 1488.377,233.4384 C1498.2396,233.4384 1510.3519,233.4384 1522.1183,233.4384 C1545.651,233.4384 1567.8,233.4384 1567.8,233.4384 C1567.8,233.4384 1567.8,254.1317 1567.8,285.495 C1567.8,301.1766 1567.8,319.5258 1567.8,339.2896 C1567.8,349.1715 1567.8,359.407 1567.8,369.8396 C1567.8,375.0559 1567.8,380.3215 1567.8,385.6167 C1567.8,386.9405 1567.8,388.2662 1567.8,389.5934 C1567.8,390.257 1567.8,376.521 1567.8,377.1854" fill="none" id="s21-to-infra" style="stroke:#666666;stroke-width:1.8;"/><polygon fill="#666666" points="1567.8,391.5854,1573.2,377.1854,1562.4,377.1854,1567.8,391.5854" style="stroke:#666666;stroke-width:1.8;"/><text fill="#666666" font-family="sans-serif" font-size="0" lengthAdjust="spacing" textLength="0" x="1566" y="339.6924">.</text></g><!--link admin to nginx--><g class="link" data-entity-1="admin" data-entity-2="nginx" data-source-line="1772" data-uid="lnk18" id="link_admin_nginx"><path d="M335.25,336.0384 C466.992,336.0384 664.2,336.0384 664.2,336.0384 C664.2,336.0384 664.2,410.4324 664.2,482.2164" fill="none" id="admin-to-nginx" style="stroke:#666666;stroke-width:1.8;"/><polygon fill="#666666" points="664.2,496.6164,669.6,482.2164,658.8,482.2164,664.2,496.6164" style="stroke:#666666;stroke-width:1.8;"/><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="64.6862" x="434.214" y="299.6045">Admin</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="498.9002" y="299.6045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="22.6708" x="504.0481" y="299.6045">UI</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="526.7189" y="299.6045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="8.1773" x="531.8669" y="299.6045">/</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="540.0443" y="299.6045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="33.7983" x="545.1922" y="299.6045">API</text><text fill="#666666" font-family="sans-serif" font-size="21.6" font-style="italic" lengthAdjust="spacing" textLength="72.0149" x="470.5948" y="328.4964">[HTTPS]</text></g><!--link customer to nginx--><g class="link" data-entity-1="customer" data-entity-2="nginx" data-source-line="1772" data-uid="lnk19" id="link_customer_nginx"><path d="M350.46,586.2384 C408.15,586.2384 459.486,586.2384 515.826,586.2384" fill="none" id="customer-to-nginx" style="stroke:#666666;stroke-width:1.8;"/><polygon fill="#666666" points="530.226,586.2384,515.826,580.8384,515.826,591.6384,530.226,586.2384" style="stroke:#666666;stroke-width:1.8;"/><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="96.4451" x="352.152" y="609.2045">Customer</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="448.5971" y="609.2045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="22.6708" x="453.745" y="609.2045">UI</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="476.4159" y="609.2045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="8.1773" x="481.5638" y="609.2045">/</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="489.7412" y="609.2045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="33.7983" x="494.8891" y="609.2045">API</text><text fill="#666666" font-family="sans-serif" font-size="21.6" font-style="italic" lengthAdjust="spacing" textLength="72.0149" x="404.4123" y="638.0964">[HTTPS]</text></g><!--link nginx to shop--><g class="link" data-entity-1="nginx" data-entity-2="shop" data-source-line="1772" data-uid="lnk20" id="link_nginx_shop"><path d="M797.652,586.2384 C853.29,586.2384 904.212,586.2384 963.414,586.2384" fill="none" id="nginx-to-shop" style="stroke:#666666;stroke-width:1.8;"/><polygon fill="#666666" points="977.814,586.2384,963.414,580.8384,963.414,591.6384,977.814,586.2384" style="stroke:#666666;stroke-width:1.8;"/><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="68.4679" x="808.524" y="609.2045">Routes</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="876.9919" y="609.2045">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="86.2086" x="882.1399" y="609.2045">requests</text><text fill="#666666" font-family="sans-serif" font-size="21.6" font-style="italic" lengthAdjust="spacing" textLength="114.0056" x="831.4334" y="638.0964">[HTTP/REST]</text></g><!--link shop to auth--><g class="link" data-entity-1="shop" data-entity-2="auth" data-source-line="1706" data-uid="lnk21" id="link_shop_auth"><path d="M1150.2,676.1304 C1150.2,712.6524 1150.2,740.3364 1150.2,776.7864" fill="none" id="shop-to-auth" style="stroke:#666666;stroke-width:1.8;"/><polygon fill="#666666" points="1150.2,791.1864,1155.6,776.7864,1144.8,776.7864,1150.2,791.1864" style="stroke:#666666;stroke-width:1.8;"/><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="91.5348" x="1152" y="756.6245">Validates</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="1243.5348" y="756.6245">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="67.6759" x="1248.6827" y="756.6245">tokens</text><text fill="#666666" font-family="sans-serif" font-size="21.6" font-style="italic" lengthAdjust="spacing" textLength="62.338" x="1203.0103" y="785.5164">[gRPC]</text></g><!--link event to shop--><g class="link" data-entity-1="event" data-entity-2="shop" data-source-line="1706" data-uid="lnk22" id="link_event_shop"><path d="M1132.2,322.9164 C1132.2,376.1964 1132.2,429.1884 1132.2,482.4504" fill="none" id="event-to-shop" style="stroke:#666666;stroke-width:1.8;"/><polygon fill="#666666" points="1132.2,496.8504,1137.6,482.4504,1126.8,482.4504,1132.2,496.8504" style="stroke:#666666;stroke-width:1.8;"/><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="46.4901" x="1031.2846" y="373.4585">Calls</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="5.148" x="1077.7747" y="373.4585">&#160;</text><text fill="#666666" font-family="sans-serif" font-size="19.8" font-weight="bold" lengthAdjust="spacing" textLength="33.7983" x="1082.9227" y="373.4585">API</text><text fill="#666666" font-family="sans-serif" font-size="21.6" font-style="italic" lengthAdjust="spacing" textLength="114.0056" x="1017" y="402.3504">[HTTP/REST]</text></g><g class="legend" data-source-line="1510"><rect fill="none" height="34.3223" style="stroke:none;stroke-width:1.8;" width="248.1183" x="1886.6817" y="1331.4384"/><text fill="#000000" font-family="sans-serif" font-size="25.2" font-weight="bold" lengthAdjust="spacing" textLength="92.4837" x="1886.6817" y="1358.3771">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1985.7174" y="1358.3771">&#160;</text><rect fill="#08427B" height="34.3223" style="stroke:none;stroke-width:1.8;" width="248.1183" x="1886.6817" y="1365.7607"/><text fill="#073B6F" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="10.1556" x="1893.2337" y="1392.6993">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1903.3893" y="1392.6993">&#160;</text><image height="21.6" width="21.6" x="1909.9413" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAApklEQVR4XmPgcKpmQMfRjcsb/CoWNqCLgzCGwH80gC6Pwjl17RG6+v9T1h47gFPD95+/0dX/33v2DootKBriW1Y2oGvQjesPxKkBhDuW7D8AUxzfunIiujwKRzWyO8ksdXIxjG+XPaNBNqgNuw3IzkAHIL+haNh67MZndEXooGXh3kVwDeiS2MCtx6/BtoA1/P7zF10eA5y69hihAYQNkyY24MMwdQBvKDvWFDAX9QAAAABJRU5ErkJggg==" y="1378.4829"/><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="83.0085" x="1944.6452" y="1392.6993">person</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="2034.2057" y="1392.6993">&#160;</text><rect fill="#1168BD" height="34.3223" style="stroke:none;stroke-width:1.8;" width="248.1183" x="1886.6817" y="1400.0829"/><text fill="#3C7FC0" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="10.1556" x="1893.2337" y="1427.0216">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1903.3893" y="1427.0216">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="83.8653" x="1916.4932" y="1427.0216">system</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="2006.9105" y="1427.0216">&#160;</text><rect fill="#999999" height="34.3223" style="stroke:none;stroke-width:1.8;" width="248.1183" x="1886.6817" y="1434.4052"/><text fill="#8A8A8A" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="10.1556" x="1893.2337" y="1461.3439">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1903.3893" y="1461.3439">&#160;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="187.8905" x="1916.4932" y="1461.3439">external system</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="2110.9357" y="1461.3439">&#160;</text><rect fill="none" height="34.3223" style="stroke:none;stroke-width:1.8;" width="248.1183" x="1886.6817" y="1468.7274"/><text fill="#444444" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="10.1556" x="1893.2337" y="1495.6661">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1903.3893" y="1495.6661">&#160;</text><text fill="#444444" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="205.2028" x="1916.4932" y="1495.6661">system boundary</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="2128.248" y="1495.6661">&#160;</text><rect fill="none" height="34.3223" style="stroke:none;stroke-width:1.8;" width="248.1183" x="1886.6817" y="1503.0497"/><text fill="#444444" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="10.1556" x="1893.2337" y="1529.9884">&#9647;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="1903.3893" y="1529.9884">&#160;</text><text fill="#444444" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="114.7856" x="1916.4932" y="1529.9884">boundary</text><text fill="#FFFFFF" font-family="sans-serif" font-size="25.2" lengthAdjust="spacing" textLength="6.552" x="2037.8308" y="1529.9884">&#160;</text><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1331.4384" y2="1331.4384"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1365.7607" y2="1365.7607"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1400.0829" y2="1400.0829"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1434.4052" y2="1434.4052"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1468.7274" y2="1468.7274"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1503.0497" y2="1503.0497"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="2134.8" y1="1537.3719" y2="1537.3719"/><line style="stroke:none;stroke-width:1.8;" x1="1886.6817" x2="1886.6817" y1="1331.4384" y2="1537.3719"/><line style="stroke:none;stroke-width:1.8;" x1="2134.8" x2="2134.8" y1="1331.4384" y2="1537.3719"/></g><!--SRC=[VLNHRjis57tNLzpvOPM798gBxYL07XpRJOovjcivw_PaC19Z2vP9ZQIIU4E1D04A31k6OOzxs7uX2reWRPVq5wXVs9Viaf8SEIlcXv0YUSyzzzn3vhE81N4QqbJ4C5CgaJkU9yZfrZHIi_GebLG4d2dAr5R05ruI4wRIHRmfLHX7HrxhoURGB1q-wtaB8XKLk3HfcOWpjPNWISTv1FeF_LVsexxHxo1xfJ_eE_rk9v-zrTVw2lvv_HleMtsbFsRd-FTQtpczvhU3m_6artawdeow-mTZj-uyEkYsEvDXP-GF-XD_EEgEEsRLFnYyA5SnfjVjcsL7pYEM444M44UCgcL2WGiruvKDEICXFutO58v9B6bbPyHJ5hQuO5H0OxkoqHI2dpx5-lpeUmgDHcKBzKauGwLyjOmf21geAWj1s5pI1BwimZ4UKhFOsDusGktkxa8pK5n8SE_rgPjrPyzG8cBf4djW0shvf5Q77np0d-9JgcPKv5_cDwH2SkO6gLHyGGM6j8ff3UVwJsp4- -nIVzHNsGMc-f3z31xetp7l3NxUPXUr-aCi4YuYXi5DCrgKN_KR_JS6tEgRx5LsOJg8Q7VPUIMuHvQJTXbRqictNpeldRBq4Jt1B1GImS-MAmNUP9VPBm_iaqlYBz5nYqddJBbi6h4pfDFVx_Q_CRpMiJmOztn0Uo83eYBEa5oHr7_SW3qIp2aBmKKjxY1xdLUVdMUN6oRbMopgsfRt4-04Fx726_qUlOgQOULtQtnMdPAF6yYaag3eLTcfed65ryU3uQGzUD5tSs5oC5VEU88WPjZ4otWI1TIMr_77q1nsTqo1OHeewSaqIU88Y_O279YIjJKWr8CfZBHZ5MgVeik9eX8-Ds01bHBd1IoaIOXxOACU899KpOmDSIZnm9sEXgswWMtYCiP4WTKRiHL72U24n55Ojg1eVzw8BZiM-8G8p9eAQjjVlWTN6_-h-qhmo41WxdKemmOzGWKZCKZBNNww4tbXprEQKdTEZkS6woipMWWZ0U2J2AxYIHJ8bVQRNzJNb6aVkGcNQYgekQR3OfgxChQr8v7s7hWocD450VJ9Vm043IDf8t0qeIs2Xz78s1o926KlygjLa2spLhVkcLZ8bUZvhhMebQr-VmjpZd8M9TBgYokJKNbzovjcNm0ux28bzA5XU30U3tsabH-_VtNAYFBn-MHG4LMSBLoFpx3nfQ3VfLGgMPxtZFlpHCNzAApuTMuk3B5cim76aCNPuWeKu2qInx9AOmrsfGjkcWE6ecF_rVGw-vr-swt_2m00]--></g></svg>